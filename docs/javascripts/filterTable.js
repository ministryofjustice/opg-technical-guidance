function fuzzySearch(e,r){var t=[];return Array.from(e.tBodies).forEach(function(e){Array.from(e.rows).forEach(function(e,o){e.textContent.toLowerCase().indexOf(r)>-1&&t.push(o)})}),t}function filterDisplay(e,r){var t=[];if(r.length>0)for(var o=fuzzySearch(e,r),n=0;n<o.length;n++)t.push(o[n]);else Array.from(e.querySelectorAll("tbody tr")).forEach(function(e,r){t.push(r)});Array.from(e.tBodies).forEach(function(e){Array.from(e.rows).forEach(function(e,r){var o=t.includes(r);e.style.display=o?"table-row":"none"})})}function search(e,r){var t=0;e.insertAdjacentHTML("beforebegin",'<form class="filter-'+r+" filter-search filter-search-"+r+'"><label>Search packages:</label><input type="text" class="govuk-input govuk-!-margin-bottom-4"></form>');var o=document.querySelector(".filter-search-"+r+" input");o.addEventListener("input",function(){clearTimeout(t),t=setTimeout(function(){filterDisplay(e,o.value.toLowerCase())},500)})}function filters(){Array.from(document.querySelectorAll("table.filter")).forEach(function(e,r){search(e,r)})}document.addEventListener("DOMContentLoaded",filters);