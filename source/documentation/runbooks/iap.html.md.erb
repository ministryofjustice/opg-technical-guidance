---
title: Instructions and Preferences (I&P) Service Runbook
last_reviewed_on: 2023-12-08
review_in: 4 weeks
---

# <%= current_page.data.title %>

## Description

A service used for storing and retrieving instructions and preferences for Lasting Power of Attorney (LPA) documents. This service is used by the [Use a Lasting Power of Attorney (UAL)](use.html) service to display the instructions and preferences for an LPA.

At its core, it is a Lambda function that is triggered by a user viewing an LPA in the UAL service. The Lambda function retrieves the instructions and preferences PDF from the Sirius datastore S3 bucket and then extracts the instructions, preferences and any I&P continuation sheets as seperate images. These images are then stored in the I&P S3 bucket and a list of URLs is returned to the UAL service.

### Impact of an outage

Users will not be able to view the instructions and preferences for an LPA in the UAL service. Users will need to be sent a paper copy of the instructions and preferences by the actor.

### Incident contact details

Slack: [#opg-lpa](https://mojdt.slack.com/archives/C9PNCT2KS)

email: [opg-lpa-live@digital.justice.gov.uk](mailto:opg-lpa-live@digital.justice.gov.uk)

## URLs

### Service URLs:

[https://lpa-iap.api.opg.service.justice.gov.uk](https://lpa-iap.api.opg.service.justice.gov.uk)

### Other URLs

|Name                           |Address                                                                                |
|-------------------------------|---------------------------------------------------------------------------------------|
| GitHub Repository             |     https://github.com/ministryofjustice/opg-data-lpa-instructions-preferences        |

## Hosting environment
- AWS - We can log an emergency call with [aws support](https://console.aws.amazon.com/support/home#/) and will get an immediate call back.

## Service team contact

[opg-lpa-live@digital.justice.gov.uk](opg-lpa-live@digital.justice.gov.uk)

## Other Information

### Releases

We operate a CI/CD model, all commits to main are automatically deployed to production through Github Actions workflows.

### Automatic alerts

| Alert               | Source     | Application     | Description                                                                                |
|---------------------|------------|-----------------|--------------------------------------------------------------------------------------------|

### Consumers of this service

- [Use a Lasting Power of Attorney (UAL)](use)

### Services consumed by this

- [Sirius LPA](https://github.com/ministryofjustice/opg-sirius/)

### Restrictions on access

- The API can only be called by an authorised IAM role.

### How to resolve specific issues

In the event that the issue is service affecting then we should follow the Incident process which can be found in this [document](https://docs.opg.service.justice.gov.uk/documentation/incidents/process.html#incident-response-process).

As part of this process we may identify that we need to roll back to a previous version of the application in which case, use the redeploying services procedures in this [folder](https://github.com/ministryofjustice/opg-data-lpa-instructions-preferences).

#### Distorted images in I&P

Sometimes, the images that are generated by the I&P service are distorted. There are a number of reasons why this could happen:

- The PDF that is uploaded to Sirius is distorted
- Tesseract (the OCR library used by the I&P service) is unable to process the PDF correctly

To attempt to resolve this isssue, see the [Deleting I&P images](https://github.com/ministryofjustice/opg-data-lpa-instructions-preferences/blob/main/docs/runbooks/delete-an-lpa-scan.md) section of the I&P runbook.